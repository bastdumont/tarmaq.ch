<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Charte TARMAQ - Notre Engagement</title>
    <meta
      name="description"
      content="La Charte TARMAQ : notre engagement pour d√©mocratiser l'acc√®s aux technologies √©mergentes et construire un avenir num√©rique inclusif."
    />

    <link rel="icon" href="assets/logo.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#DA2F2C',
              secondary: '#111827',
              accent: '#F3F4F6',
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
          },
        },
      };
    </script>

    <style>
      .handwritten-signature {
        font-family: 'Brush Script MT', cursive;
        font-size: 1.5rem;
        color: #1a1a2e;
        transform: rotate(-2deg);
        display: inline-block;
        margin: 0.5rem 1rem;
        padding: 0.25rem;
      }

      .signature-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        padding: 2rem 0;
      }

      .charter-box {
        border-left: 4px solid #DA2F2C;
        background: linear-gradient(to right, rgba(218, 47, 44, 0.05), transparent);
        padding: 1.5rem;
        margin: 1.5rem 0;
      }

      .loading-signature {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      @keyframes fadeInSignature {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .signature-fade-in {
        animation: fadeInSignature 0.5s ease-out forwards;
      }
    </style>
  </head>
  <body class="font-sans bg-white text-secondary">
    <!-- Header will be loaded by header.js -->

    <!-- Page Header -->
    <section
      class="pt-32 pb-20 bg-gradient-to-br from-secondary via-gray-800 to-primary text-white"
    >
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
          <div class="inline-block mb-4">
            <span
              class="bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-semibold"
              data-i18n="charter.badge"
            >
              üìú Notre Engagement
            </span>
          </div>
          <h1
            class="text-5xl md:text-6xl font-bold mb-6 leading-tight"
            data-i18n="charter.title"
          >
            Charte TARMAQ
          </h1>
          <p class="text-xl md:text-2xl opacity-90 leading-relaxed" data-i18n="charter.subtitle">
            Notre engagement pour un avenir num√©rique accessible, inclusif et responsable
          </p>
        </div>
      </div>
    </section>

    <!-- Mission Statement -->
    <section class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold mb-6" data-i18n="charter.mission.title">
              Notre Mission
            </h2>
            <div class="w-24 h-1 bg-primary mx-auto mb-8"></div>
          </div>

          <div class="prose prose-lg max-w-none">
            <p class="text-xl leading-relaxed text-gray-700 mb-6 text-center italic" data-i18n="charter.mission.statement">
              "D√©mocratiser l'acc√®s aux technologies √©mergentes, former les talents de demain et construire un √©cosyst√®me num√©rique o√π l'innovation rime avec inclusion, √©thique et impact positif."
            </p>

            <div class="charter-box">
              <p class="text-lg text-gray-700 mb-4" data-i18n="charter.mission.p1">
                <strong>TARMAQ</strong> est n√© d'une conviction profonde : la technologie ne doit pas √™tre un privil√®ge r√©serv√© √† quelques-uns, mais une opportunit√© accessible √† tous les jeunes talents, quelle que soit leur origine sociale, √©conomique ou g√©ographique.
              </p>
              <p class="text-lg text-gray-700" data-i18n="charter.mission.p2">
                Dans un monde o√π l'intelligence artificielle, la blockchain, la cybers√©curit√© et les technologies √©mergentes transforment rapidement nos soci√©t√©s, nous croyons que chaque jeune m√©rite d'√™tre non seulement un spectateur, mais un acteur de cette r√©volution num√©rique.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Our Commitments -->
    <section class="py-20 bg-accent">
      <div class="container mx-auto px-4">
        <div class="max-w-5xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold mb-4" data-i18n="charter.commitments.title">
              Nos Engagements
            </h2>
            <p class="text-xl text-gray-600" data-i18n="charter.commitments.subtitle">
              Les principes fondamentaux qui guident toutes nos actions
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            <!-- Commitment 1 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-hand-holding-heart text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment1.title">
                1. Accessibilit√© Universelle
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment1.text">
                Nous nous engageons √† garantir un acc√®s √©quitable √† nos programmes de formation, ind√©pendamment des ressources financi√®res, du genre, de l'origine ethnique ou du parcours acad√©mique. Aucun talent ne doit √™tre laiss√© de c√¥t√©.
              </p>
            </div>

            <!-- Commitment 2 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-shield-alt text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment2.title">
                2. √âthique & Responsabilit√©
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment2.text">
                Nous formons non seulement des experts techniques, mais aussi des citoyens num√©riques responsables. Chaque programme int√®gre des r√©flexions sur l'impact soci√©tal, l'√©thique de l'IA, la protection des donn√©es et l'usage responsable de la technologie.
              </p>
            </div>

            <!-- Commitment 3 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-lightbulb text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment3.title">
                3. Excellence & Innovation
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment3.text">
                Nous visons l'excellence dans nos formations, nos infrastructures et notre accompagnement. Nous restons √† la pointe des technologies √©mergentes et encourageons l'innovation, la cr√©ativit√© et l'exp√©rimentation √† chaque √©tape.
              </p>
            </div>

            <!-- Commitment 4 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-users text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment4.title">
                4. Communaut√© & Collaboration
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment4.text">
                Nous croyons en la force du collectif. Nous favorisons la collaboration entre jeunes talents, mentors, entreprises et institutions pour cr√©er un √©cosyst√®me d'entraide et de partage de connaissances.
              </p>
            </div>

            <!-- Commitment 5 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-balance-scale text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment5.title">
                5. Transparence & Int√©grit√©
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment5.text">
                Nous op√©rons avec une totale transparence sur nos activit√©s, nos finances et nos partenariats. Nous respectons les normes les plus √©lev√©es d'int√©grit√© dans toutes nos interactions.
              </p>
            </div>

            <!-- Commitment 6 -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition">
              <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-seedling text-white text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4" data-i18n="charter.commitment6.title">
                6. Impact Durable
              </h3>
              <p class="text-gray-700 leading-relaxed" data-i18n="charter.commitment6.text">
                Nous mesurons notre succ√®s non par le nombre de participants, mais par l'impact r√©el et durable sur leurs carri√®res, leurs projets et leur contribution √† la soci√©t√©. Nous nous engageons pour un changement positif √† long terme.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Our Vision for 2030 -->
    <section class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4" data-i18n="charter.vision.title">
              Notre Vision pour 2030
            </h2>
            <div class="w-24 h-1 bg-primary mx-auto mb-8"></div>
          </div>

          <div class="bg-gradient-to-br from-primary to-red-700 text-white p-12 rounded-3xl shadow-2xl">
            <p class="text-2xl font-light leading-relaxed mb-6 text-center" data-i18n="charter.vision.statement">
              D'ici 2030, TARMAQ sera reconnu comme le catalyseur d'excellence de r√©f√©rence en Suisse romande pour les jeunes talents en technologies √©mergentes.
            </p>

            <div class="grid md:grid-cols-3 gap-8 mt-12">
              <div class="text-center">
                <div class="text-5xl font-bold mb-2">5 000+</div>
                <p class="text-lg opacity-90" data-i18n="charter.vision.metric1">Jeunes form√©s</p>
              </div>
              <div class="text-center">
                <div class="text-5xl font-bold mb-2">50+</div>
                <p class="text-lg opacity-90" data-i18n="charter.vision.metric2">Partenaires entreprises</p>
              </div>
              <div class="text-center">
                <div class="text-5xl font-bold mb-2">200+</div>
                <p class="text-lg opacity-90" data-i18n="charter.vision.metric3">Projets innovants</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="py-20 bg-gradient-to-br from-secondary to-gray-800 text-white">
      <div class="container mx-auto px-4">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-4xl md:text-5xl font-bold mb-6" data-i18n="charter.cta.title">
            Signez Notre Charte
          </h2>
          <p class="text-xl mb-8 opacity-90 leading-relaxed" data-i18n="charter.cta.description">
            En signant cette charte, vous manifestez votre soutien √† notre mission et vos valeurs communes pour un avenir num√©rique inclusif et responsable.
          </p>
          <a
            href="charte.html"
            class="inline-flex items-center gap-3 bg-primary hover:bg-red-700 text-white px-10 py-5 rounded-full font-bold text-lg transition transform hover:scale-105 shadow-2xl"
          >
            <i class="fas fa-pen-fancy"></i>
            <span data-i18n="charter.cta.button">Signez la Charte</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Signatures List -->
    <section class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4" data-i18n="charter.signatures.title">
              Ils ont sign√© notre Charte
            </h2>
            <p class="text-xl text-gray-600" data-i18n="charter.signatures.subtitle">
              Rejoignez ces visionnaires engag√©s pour un avenir num√©rique inclusif
            </p>
            <div class="w-24 h-1 bg-primary mx-auto mt-6"></div>
          </div>

          <!-- Signature count -->
          <div class="text-center mb-12">
            <div class="inline-block bg-accent px-8 py-4 rounded-2xl">
              <span class="text-5xl font-bold text-primary" id="signatureCount">...</span>
              <span class="text-xl text-gray-600 ml-2" data-i18n="charter.signatures.count">signataires</span>
            </div>
          </div>

          <!-- Loading State -->
          <div id="loadingSignatures" class="text-center py-12">
            <div class="inline-block">
              <i class="fas fa-spinner fa-spin text-4xl text-primary mb-4"></i>
              <p class="text-gray-600" data-i18n="charter.signatures.loading">Chargement des signatures...</p>
            </div>
          </div>

          <!-- Error State -->
          <div id="errorSignatures" class="text-center py-12 hidden">
            <i class="fas fa-exclamation-circle text-4xl text-gray-400 mb-4"></i>
            <p class="text-gray-600" data-i18n="charter.signatures.error">Impossible de charger les signatures pour le moment.</p>
          </div>

          <!-- Signatures Container -->
          <div id="signaturesContainer" class="signature-container hidden">
            <!-- Signatures will be loaded here dynamically -->
          </div>

          <!-- CTA to Sign -->
          <div class="text-center mt-12">
            <a
              href="charte.html"
              class="inline-flex items-center gap-2 bg-white border-2 border-primary text-primary hover:bg-primary hover:text-white px-8 py-4 rounded-full font-semibold text-lg transition"
            >
              <i class="fas fa-plus-circle"></i>
              <span data-i18n="charter.signatures.cta">Ajouter votre signature</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-secondary text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid md:grid-cols-4 gap-8 mb-8">
          <div>
            <img src="assets/logo.png" alt="TARMAQ" class="h-12 mb-4" />
            <p class="text-gray-400 text-sm" data-i18n="footer.about">
              Catalyseur d'excellence pour les jeunes talents dans les
              technologies √©mergentes.
            </p>
          </div>

          <div>
            <h4 class="font-bold mb-4" data-i18n="footer.links">
              Liens rapides
            </h4>
            <ul class="space-y-2 text-gray-400 text-sm">
              <li>
                <a
                  href="projet.html"
                  class="hover:text-white transition"
                  data-i18n="nav.project"
                  >Le projet</a
                >
              </li>
              <li>
                <a
                  href="activites.html"
                  class="hover:text-white transition"
                  data-i18n="nav.activities"
                  >Activit√©s</a
                >
              </li>
              <li>
                <a
                  href="impact.html"
                  class="hover:text-white transition"
                  data-i18n="nav.impact"
                  >Impact</a
                >
              </li>
              <li>
                <a
                  href="soutenir.html"
                  class="hover:text-white transition"
                  data-i18n="nav.support"
                  >Nous soutenir</a
                >
              </li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold mb-4" data-i18n="footer.contact">Contact</h4>
            <ul class="space-y-2 text-gray-400 text-sm">
              <li>
                <i class="fas fa-envelope mr-2"></i>bastien@bdi-solutions.com
              </li>
              <li><i class="fas fa-phone mr-2"></i>+41 79 670 77 43</li>
              <li>
                <i class="fas fa-map-marker-alt mr-2"></i>11 avenue
                Eug√®ne-Pittard, 1206 Gen√®ve
              </li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold mb-4" data-i18n="footer.newsletter">
              Restez Inform√©
            </h4>
            <p class="text-gray-400 text-sm mb-4" data-i18n="footer.newsletter.description">
              Recevez nos derni√®res actualit√©s et opportunit√©s.
            </p>
            <a
              href="contact.html"
              class="bg-primary hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm transition inline-flex items-center"
              data-i18n="footer.newsletter.cta"
            >
              Nous Contacter
            </a>
          </div>
        </div>

        <div
          class="border-t border-gray-700 pt-8 text-center text-gray-400 text-sm"
        >
          <p>
            &copy; 2025 TARMAQ.
            <span data-i18n="footer.rights">Tous droits r√©serv√©s.</span>
          </p>
        </div>
      </div>
    </footer>

    <script src="js/header.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>

    <!-- Signature Loading Script -->
    <script>
      (async function () {
        // Load configuration from Vercel serverless function
        let AIRTABLE_API_KEY = '';
        let BASE_ID = 'appJ4MLPYJyuWWBG8';
        const TABLE_NAME = 'Charter Signatures';

        const loadingEl = document.getElementById('loadingSignatures');
        const errorEl = document.getElementById('errorSignatures');
        const containerEl = document.getElementById('signaturesContainer');
        const countEl = document.getElementById('signatureCount');

        try {
          // Fetch configuration
          const configResponse = await fetch('/api/env.js');
          if (configResponse.ok) {
            const config = await configResponse.json();
            AIRTABLE_API_KEY = config.AIRTABLE_API_KEY;
            if (config.AIRTABLE_BASE_ID) {
              BASE_ID = config.AIRTABLE_BASE_ID;
            }
          } else {
            throw new Error('Failed to load configuration');
          }

          if (!AIRTABLE_API_KEY) {
            throw new Error('API key not configured');
          }

          // Fetch signatures from Airtable
          const response = await fetch(
            `https://api.airtable.com/v0/${BASE_ID}/${encodeURIComponent(
              TABLE_NAME
            )}?sort%5B0%5D%5Bfield%5D=Timestamp&sort%5B0%5D%5Bdirection%5D=desc`,
            {
              headers: {
                Authorization: `Bearer ${AIRTABLE_API_KEY}`,
              },
            }
          );

          if (!response.ok) {
            throw new Error('Failed to fetch signatures');
          }

          const data = await response.json();
          const signatures = data.records;

          // Update count
          countEl.textContent = signatures.length;

          // Hide loading, show signatures
          loadingEl.classList.add('hidden');
          containerEl.classList.remove('hidden');

          // Render signatures with handwritten style
          if (signatures.length === 0) {
            containerEl.innerHTML = `
              <p class="text-center text-gray-500 w-full">
                Soyez le premier √† signer notre charte !
              </p>
            `;
          } else {
            signatures.forEach((record, index) => {
              const name = record.fields.Name || 'Anonymous';
              const signatureEl = document.createElement('div');
              signatureEl.className = 'handwritten-signature signature-fade-in';
              signatureEl.style.animationDelay = `${index * 0.05}s`;
              signatureEl.textContent = name;
              containerEl.appendChild(signatureEl);
            });
          }
        } catch (error) {
          console.error('Error loading signatures:', error);
          loadingEl.classList.add('hidden');
          errorEl.classList.remove('hidden');
          countEl.textContent = '‚Äî';
        }
      })();
    </script>
  </body>
</html>
