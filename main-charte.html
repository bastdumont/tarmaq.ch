<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charte Tarmaq | Notre Engagement</title>
    <meta name="description" content="La Charte Tarmaq : notre engagement pour démocratiser l'accès aux technologies émergentes et construire un avenir numérique inclusif.">
    <link rel="icon" href="assets/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --tarmaq-red: #DA2F2C;
            --tarmaq-black: #111111;
            --tarmaq-gray: #777777;
            --tarmaq-bg: #F9F8F5;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--tarmaq-bg);
            color: var(--tarmaq-black);
            scroll-behavior: smooth;
        }
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase;
            letter-spacing: -0.02em;
        }
        .bg-tarmaq-red { background-color: var(--tarmaq-red); }
        .text-tarmaq-red { color: var(--tarmaq-red); }
        .border-tarmaq-red { border-color: var(--tarmaq-red); }
        .btn-primary {
            background-color: var(--tarmaq-red);
            color: white;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
            box-shadow: 0 4px 12px rgba(218, 47, 44, 0.2);
        }
        .card {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            transition: all 0.3s ease;
            border-left: 0px solid var(--tarmaq-red);
        }
        .card:hover {
            transform: translateY(-5px);
            border-left-width: 4px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        .nav-link {
            font-weight: 500;
            transition: color 0.2s;
            cursor: pointer;
        }
        .nav-link:hover, .nav-link.active {
            color: var(--tarmaq-red);
        }
        .icon-box {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #FDF2F2;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }
        .handwritten-signature {
            font-family: 'Brush Script MT', cursive;
            font-size: 1.5rem;
            color: var(--tarmaq-black);
            transform: rotate(-2deg);
            display: inline-block;
            margin: 0.5rem 1rem;
            padding: 0.25rem;
        }
        .signature-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            padding: 2rem 0;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .signature-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="fixed w-full top-0 z-50 bg-[#F9F8F5]/90 backdrop-blur-md border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-2">
                <div class="w-8 h-8 bg-tarmaq-red rounded-full flex items-center justify-center text-white font-bold text-xl">T</div>
                <span class="text-2xl font-black tracking-tighter uppercase italic">Tarmaq</span>
            </a>
            
            <nav class="hidden md:flex items-center gap-8">
                <a href="index.html" class="nav-link">Accueil</a>
                <a href="main-charte.html" class="nav-link active">Charte</a>
                <a href="charte.html" class="nav-link">Signer</a>
            </nav>

            <div class="flex items-center gap-4">
                <a href="charte.html" class="btn-primary uppercase text-sm tracking-widest">Signer la charte</a>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="pt-40 pb-20 px-6">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
            <div>
                <nav class="flex gap-2 text-xs uppercase tracking-widest font-bold text-[#777] mb-8">
                    <a href="index.html" class="hover:text-tarmaq-red">Accueil</a>
                    <span>/</span>
                    <span class="text-tarmaq-red">Charte</span>
                </nav>
                <div class="w-12 h-1 bg-tarmaq-red mb-6"></div>
                <h1 class="text-5xl lg:text-7xl font-black leading-tight mb-6">
                    Notre <br><span class="text-tarmaq-red">engagement.</span>
                </h1>
                <p class="text-xl text-[#777] leading-relaxed mb-8 max-w-lg">
                    La Charte Tarmaq définit notre engagement pour un avenir numérique accessible, inclusif et responsable. Chaque signataire rejoint un mouvement.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="charte.html" class="btn-primary uppercase text-sm tracking-widest">
                        Signer la charte
                        <i data-lucide="pen-tool" class="w-4 h-4"></i>
                    </a>
                    <a href="#engagements" class="px-8 py-3 border-2 border-black font-bold uppercase text-sm tracking-widest rounded hover:bg-black hover:text-white transition-all inline-flex items-center">
                        Nos engagements
                    </a>
                </div>
            </div>
            <div class="relative">
                <div class="bg-[#111] rounded-lg p-10 text-white shadow-2xl">
                    <p class="text-tarmaq-red font-bold uppercase tracking-widest text-sm mb-4">Notre Mission</p>
                    <p class="text-xl leading-relaxed italic text-gray-300 mb-6">
                        «Démocratiser l'accès au monde et aux dernières technologies, former les talents de demain et bâtir un écosystème fondé sur la confiance et la transparence où l'innovation rime avec éducation et collaboration.»
                    </p>
                    <div class="w-12 h-1 bg-tarmaq-red mb-6"></div>
                    <p class="text-sm text-gray-400 leading-relaxed">
                        Tarmaq est né d'une conviction profonde : la technologie ne doit pas être un privilège réservé à quelques-uns, mais une opportunité accessible à tous les jeunes talents.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Engagements -->
    <section id="engagements" class="py-24 px-6 bg-[#F9F8F5]">
        <div class="max-w-7xl mx-auto">
            <div class="mb-16">
                <p class="text-tarmaq-red font-bold uppercase tracking-widest text-sm mb-2">Nos principes</p>
                <h2 class="text-4xl font-black">6 engagements fondamentaux.</h2>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="heart-handshake" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">1. Accessibilité Universelle</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous garantissons un accès équitable à nos programmes, indépendamment des ressources financières, du genre ou du parcours académique.</p>
                </div>
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="shield-check" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">2. Éthique & Transparence</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous formons des citoyens numériques responsables. Chaque programme intègre des réflexions sur l'impact sociétal et l'éthique de l'IA.</p>
                </div>
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="lightbulb" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">3. Motivation & Innovation</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous restons à la pointe des technologies émergentes et encourageons l'innovation, la créativité et l'expérimentation à chaque étape.</p>
                </div>
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="users" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">4. Communauté & Collaboration</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous favorisons la collaboration entre jeunes talents, mentors, entreprises et institutions pour un écosystème d'entraide.</p>
                </div>
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="scale" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">5. Transparence & Intégrité</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous opérons avec une totale transparence sur nos activités, nos finances et nos partenariats avec les plus hautes normes d'intégrité.</p>
                </div>
                <div class="card shadow-sm">
                    <div class="icon-box"><i data-lucide="sprout" class="text-tarmaq-red w-6 h-6"></i></div>
                    <h3 class="font-bold text-lg mb-3">6. Impact Durable</h3>
                    <p class="text-sm text-[#777] leading-relaxed">Nous mesurons notre succès par l'impact réel et durable sur les carrières, les projets et la contribution à la société.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Vision 2030 -->
    <section class="py-24 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="bg-tarmaq-red rounded-lg p-12 md:p-16 text-white text-center">
                <p class="font-bold uppercase tracking-widest text-sm mb-4 text-white/70">Vision</p>
                <h2 class="text-3xl md:text-5xl font-black mb-8">Notre objectif pour 2030.</h2>
                <p class="text-xl leading-relaxed max-w-2xl mx-auto mb-12 text-white/90">
                    D'ici 2030, Tarmaq sera reconnu comme le catalyseur de motivation de référence en Suisse romande pour les jeunes talents en technologies émergentes.
                </p>
                <div class="grid md:grid-cols-3 gap-8">
                    <div>
                        <p class="text-5xl font-black mb-2">5 000+</p>
                        <p class="text-lg text-white/80">Jeunes formés</p>
                    </div>
                    <div>
                        <p class="text-5xl font-black mb-2">50+</p>
                        <p class="text-lg text-white/80">Partenaires entreprises</p>
                    </div>
                    <div>
                        <p class="text-5xl font-black mb-2">200+</p>
                        <p class="text-lg text-white/80">Projets innovants</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Signatures Section -->
    <section class="py-24 px-6 bg-[#F9F8F5]">
        <div class="max-w-7xl mx-auto">
            <div class="mb-16 text-center">
                <p class="text-tarmaq-red font-bold uppercase tracking-widest text-sm mb-2">Communauté</p>
                <h2 class="text-4xl font-black mb-4">Ils ont signé notre charte.</h2>
                <p class="text-[#777] text-lg">Rejoignez ces visionnaires engagés pour un avenir numérique inclusif.</p>
            </div>

            <!-- Signature Count -->
            <div class="text-center mb-12">
                <div class="inline-flex items-baseline gap-2 bg-white px-8 py-4 rounded-lg shadow-sm">
                    <span class="text-5xl font-black text-tarmaq-red" id="signatureCount">...</span>
                    <span class="text-lg text-[#777] font-medium">signataires</span>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loadingSignatures" class="text-center py-12">
                <div class="inline-block">
                    <div class="w-8 h-8 border-4 border-gray-200 border-t-tarmaq-red rounded-full animate-spin mx-auto mb-4"></div>
                    <p class="text-[#777]">Chargement des signatures...</p>
                </div>
            </div>

            <!-- Error State -->
            <div id="errorSignatures" class="text-center py-12 hidden">
                <i data-lucide="alert-circle" class="w-8 h-8 text-gray-400 mx-auto mb-4"></i>
                <p class="text-[#777]">Impossible de charger les signatures pour le moment.</p>
            </div>

            <!-- Signatures Container -->
            <div id="signaturesContainer" class="signature-container hidden"></div>

            <!-- CTA -->
            <div class="text-center mt-12">
                <a href="charte.html" class="btn-primary uppercase text-sm tracking-widest">
                    Ajouter votre signature
                    <i data-lucide="pen-tool" class="w-4 h-4"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Sign CTA Banner -->
    <section class="py-24 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="bg-[#111] rounded-lg p-12 md:p-16 flex flex-col md:flex-row items-center justify-between gap-8">
                <div class="text-white max-w-xl">
                    <h2 class="text-3xl md:text-4xl font-black mb-4">Prêt à nous rejoindre ?</h2>
                    <p class="text-gray-400 leading-relaxed">En signant cette charte, vous manifestez votre soutien à notre mission et vos valeurs communes pour un avenir numérique inclusif et responsable.</p>
                </div>
                <a href="charte.html" class="btn-primary uppercase text-sm tracking-widest shrink-0">
                    Signer la charte
                    <i data-lucide="arrow-right" class="w-4 h-4"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#F9F8F5] py-16 border-t border-gray-100">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-start gap-12">
            <div>
                <div class="flex items-center gap-2 mb-6">
                    <div class="w-6 h-6 bg-tarmaq-red rounded-full"></div>
                    <span class="text-xl font-black uppercase tracking-tighter italic">Tarmaq</span>
                </div>
                <p class="text-sm text-[#777] max-w-xs">Le catalyseur d'opportunités de la jeunesse genevoise. Ensemble, construisons le cercle vertueux de demain.</p>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-12 text-left">
                <div>
                    <p class="font-bold text-xs uppercase tracking-widest mb-4">Navigation</p>
                    <ul class="text-sm text-[#777] space-y-2">
                        <li><a href="index.html" class="hover:text-tarmaq-red">Accueil</a></li>
                        <li><a href="main-charte.html" class="hover:text-tarmaq-red">Charte</a></li>
                        <li><a href="charte.html" class="hover:text-tarmaq-red">Signer</a></li>
                    </ul>
                </div>
                <div>
                    <p class="font-bold text-xs uppercase tracking-widest mb-4">Contact</p>
                    <ul class="text-sm text-[#777] space-y-2">
                        <li>Genève, Suisse</li>
                        <li>hello@tarmaq.ch</li>
                    </ul>
                </div>
                <div>
                    <p class="font-bold text-xs uppercase tracking-widest mb-4">Social</p>
                    <div class="flex gap-4">
                        <a href="#" class="text-[#777] hover:text-tarmaq-red"><i data-lucide="linkedin"></i></a>
                        <a href="#" class="text-[#777] hover:text-tarmaq-red"><i data-lucide="instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-6 mt-16 pt-8 border-t border-gray-200 text-xs text-[#777] flex justify-between">
            <p>© 2026 Tarmaq.ch - Tous droits réservés.</p>
            <p>Inspiré par l'Excellence Suisse.</p>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Load signatures from Airtable
        (async function () {
            let AIRTABLE_API_KEY = '';
            let BASE_ID = 'appJ4MLPYJyuWWBG8';
            const TABLE_NAME = 'Charter Signatures';

            const loadingEl = document.getElementById('loadingSignatures');
            const errorEl = document.getElementById('errorSignatures');
            const containerEl = document.getElementById('signaturesContainer');
            const countEl = document.getElementById('signatureCount');

            try {
                const configResponse = await fetch('/api/env.js');
                if (configResponse.ok) {
                    const config = await configResponse.json();
                    AIRTABLE_API_KEY = config.AIRTABLE_API_KEY;
                    if (config.AIRTABLE_BASE_ID) {
                        BASE_ID = config.AIRTABLE_BASE_ID;
                    }
                } else {
                    throw new Error('Failed to load configuration');
                }

                if (!AIRTABLE_API_KEY) {
                    throw new Error('API key not configured');
                }

                const response = await fetch(
                    `https://api.airtable.com/v0/${BASE_ID}/${encodeURIComponent(TABLE_NAME)}?sort%5B0%5D%5Bfield%5D=Timestamp&sort%5B0%5D%5Bdirection%5D=desc`,
                    {
                        headers: {
                            Authorization: `Bearer ${AIRTABLE_API_KEY}`,
                        },
                    }
                );

                if (!response.ok) {
                    throw new Error('Failed to fetch signatures');
                }

                const data = await response.json();
                const signatures = data.records;

                countEl.textContent = signatures.length;

                loadingEl.classList.add('hidden');
                containerEl.classList.remove('hidden');

                if (signatures.length === 0) {
                    containerEl.innerHTML = '<p class="text-center text-[#777] w-full">Soyez le premier à signer notre charte !</p>';
                } else {
                    signatures.forEach((record, index) => {
                        const name = record.fields.Name || 'Anonymous';
                        const signatureEl = document.createElement('div');
                        signatureEl.className = 'handwritten-signature signature-fade-in';
                        signatureEl.style.animationDelay = `${index * 0.05}s`;
                        signatureEl.textContent = name;
                        containerEl.appendChild(signatureEl);
                    });
                }
            } catch (error) {
                console.error('Error loading signatures:', error);
                loadingEl.classList.add('hidden');
                errorEl.classList.remove('hidden');
                countEl.textContent = '—';
            }
        })();
    </script>
</body>
</html>
